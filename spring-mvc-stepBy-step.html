<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Core Best Practices</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            text-align: center;
        }
        .section {
            margin-bottom: 40px;
        }
        .code {
            background: #f4f4f4;
            border-left: 3px solid #ccc;
            padding: 10px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Spring Core Best Practices</h1>

        <div class="section">
            <h2>1. Use Dependency Injection</h2>
            <p>Always prefer dependency injection (constructor or setter injection) over direct instantiation of objects to promote loose coupling and easier testing.</p>
            <h3>Constructor Injection Example:</h3>
            <div class="code">
                <code>@Service<br>
                public class UserService {<br>
                    &nbsp;&nbsp;private final UserRepository userRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;public UserService(UserRepository userRepository) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;this.userRepository = userRepository;<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
            <h3>Setter Injection Example:</h3>
            <div class="code">
                <code>@Service<br>
                public class UserService {<br>
                    &nbsp;&nbsp;private UserRepository userRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;public void setUserRepository(UserRepository userRepository) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;this.userRepository = userRepository;<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>2. Use @ComponentScan and @Configuration</h2>
            <p>Use <code>@ComponentScan</code> to automatically discover and register beans, and <code>@Configuration</code> to define configuration classes.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Configuration<br>
                @ComponentScan(basePackages = "com.example.myapp")<br>
                public class AppConfig {<br>
                    &nbsp;&nbsp;// Define additional beans here if necessary<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>3. Use @Value and @PropertySource for External Configuration</h2>
            <p>Externalize configuration using property files and the <code>@Value</code> annotation to inject values.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Configuration<br>
                @PropertySource("classpath:application.properties")<br>
                public class AppConfig {<br>
                    &nbsp;&nbsp;@Value("${app.name}")<br>
                    &nbsp;&nbsp;private String appName;<br>
                    <br>
                    &nbsp;&nbsp;// Use appName in your beans<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>4. Use @Profile for Environment Specific Beans</h2>
            <p>Define beans that should only be available in specific environments using the <code>@Profile</code> annotation.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Configuration<br>
                public class DataSourceConfig {<br>
                    &nbsp;&nbsp;@Bean<br>
                    &nbsp;&nbsp;@Profile("development")<br>
                    &nbsp;&nbsp;public DataSource developmentDataSource() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return new HikariDataSource();<br>
                    &nbsp;&nbsp;}<br>
                    <br>
                    &nbsp;&nbsp;@Bean<br>
                    &nbsp;&nbsp;@Profile("production")<br>
                    &nbsp;&nbsp;public DataSource productionDataSource() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return new HikariDataSource();<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>5. Use Constructor Injection for Mandatory Dependencies</h2>
            <p>Always use constructor injection for mandatory dependencies to ensure the required dependencies are available.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Service<br>
                public class OrderService {<br>
                    &nbsp;&nbsp;private final OrderRepository orderRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;public OrderService(OrderRepository orderRepository) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;this.orderRepository = orderRepository;<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>6. Avoid Field Injection</h2>
            <p>Field injection makes testing difficult and reduces code readability. Prefer constructor or setter injection.</p>
            <h3>Bad Example (Field Injection):</h3>
            <div class="code">
                <code>@Service<br>
                public class ProductService {<br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;private ProductRepository productRepository;<br>
                }</code>
            </div>

            <h3>Good Example (Constructor Injection):</h3>
            <div class="code">
                <code>@Service<br>
                public class ProductService {<br>
                    &nbsp;&nbsp;private final ProductRepository productRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;public ProductService(ProductRepository productRepository) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;this.productRepository = productRepository;<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>7. Use Spring Profiles to Manage Different Environments</h2>
            <p>Utilize Spring profiles to configure and manage beans for different environments (e.g., development, testing, production).</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Configuration<br>
                @Profile("test")<br>
                public class TestConfig {<br>
                    &nbsp;&nbsp;@Bean<br>
                    &nbsp;&nbsp;public DataSource dataSource() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return new EmbeddedDatabaseBuilder()<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setType(EmbeddedDatabaseType.H2)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.build();<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>8. Use @Transactional for Transaction Management</h2>
            <p>Annotate methods or classes with <code>@Transactional</code> to handle transaction management declaratively.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Service<br>
                public class PaymentService {<br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;private PaymentRepository paymentRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Transactional<br>
                    &nbsp;&nbsp;public void processPayment(Payment payment) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;paymentRepository.save(payment);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;// Additional transactional operations<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>9. Use Springâ€™s Testing Support</h2>
            <p>Use Spring's testing support for writing unit and integration tests. Utilize annotations like <code>@RunWith(SpringRunner.class)</code>, <code>@SpringBootTest</code>, and <code>@MockBean</code>.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@RunWith(SpringRunner.class)<br>
                @SpringBootTest<br>
                public class UserServiceTest {<br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;private UserService userService;<br>
                    <br>
                    &nbsp;&nbsp;@MockBean<br>
                    &nbsp;&nbsp;private UserRepository userRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Test<br>
                    &nbsp;&nbsp;public void testFindUserById() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;when(userRepository.findById(1L)).thenReturn(Optional.of(new User(1L, "John Doe")));<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;User user = userService.findUserById(1L);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;assertNotNull(user);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;assertEquals("John Doe", user.getName());<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>10. Use @Cacheable for Caching</h2>
            <p>Use the <code>@Cacheable</code> annotation to enable caching for methods that are frequently called with the same parameters.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Service<br>
                public class ProductService {<br>
                    &nbsp;&nbsp;@Autowired<br>
                    &nbsp;&nbsp;private ProductRepository productRepository;<br>
                    <br>
                    &nbsp;&nbsp;@Cacheable("products")<br>
                    &nbsp;&nbsp;public Product getProductById(Long id) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return productRepository.findById(id).orElse(null);<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>11. Use @Async for Asynchronous Processing</h2>
            <p>Enable asynchronous processing using the <code>@Async</code> annotation and <code>@EnableAsync</code> configuration.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@Configuration<br>
                @EnableAsync<br>
                public class AsyncConfig {<br>
                    &nbsp;&nbsp;// Additional configuration if needed<br>
                }</code>
            </div>
            <div class="code">
                <code>@Service<br>
                public class NotificationService {<br>
                    &nbsp;&nbsp;@Async<br>
                    &nbsp;&nbsp;public void sendNotification(String message) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;// Send notification asynchronously<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

        <div class="section">
            <h2>12. Use Spring Boot for Rapid Development</h2>
            <p>Leverage Spring Boot for rapid application development, automatic configuration, and production-ready features.</p>
            <h3>Example:</h3>
            <div class="code">
                <code>@SpringBootApplication<br>
                public class Application {<br>
                    &nbsp;&nbsp;public static void main(String[] args) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(Application.class, args);<br>
                    &nbsp;&nbsp;}<br>
                }</code>
            </div>
        </div>

    </div>
</body>
</html>
